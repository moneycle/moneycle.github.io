---
layout: post
title: "How Social Security Messes With Your Tax Brackets"
date: 2017-01-18
image: /images/murraycle.jpg
abstract: Social Security is a great source of basic income for many retired
   people.  But most people probably don't understand how Social Security
   income affects their taxes which could influence their decisions regarding
   the use of tax-deferred investment vehicles such as traditional IRAs.
---

While Social Security provides a nice base-level of income for many retirees,
it can have some interesting effects on the tax brackets.  The basic
philosophy of Social Security taxation is that you won't be taxed on Social
Security benefits if you have no other income sources.  But as your other income
sources grow, your Social Security benefits may be subject to taxation.  This is
really just a means test that allows Uncle Sam to increase your
taxable income if you are well off.

Getting into the weeds for a minute, the rules for taxation of Social Security
are as follows:

  * First, calculate what's called the "provisional income" by adding half of
  your social security income to your "other income".
  * "Other income" is my term, but it represents your taxable income (AGI) plus
  your non-taxable interest income.
  * If your "provisional income" is above the first threshold ($25,000 single,
    $32,000 married), then 50% of the amount above that threshold is
    added to your taxable income.
  * If your "provisional income" is above the second threshold ($34,000 single,
    $44,000 married), then an additional 35% of the amount above the second
    threshold is added to your taxable income, for a total of 85%.
  * A maximum of 85% of your Social Security benefit may be taxed.

The net effect of these rules is that, as your "other income" rises, then your
tax rate can rise proportionally.  So while the IRS frames it as a taxation on
your Social Security benefits, it's mathematially equivalent to an increase
in your marginal tax rate.  For example, if you are married and your provisional
income is above $44,000, then your tax rate may be 85% higher than you think it
is because 85% more of your total income will be taxed.

## For Math Nerds [click to show/hide](javascript:void(0);){:class='toggle' onclick="toggle('#math')"}

<div id='math' class='hidden' markdown='1'>
The graph in the previous section was generated by calculating the taxable income
and applying that to the income tax brackets to figure out the actual marginal
tax rates.  Here is the math that is used to calculate the taxable income.

As mentioned above, provisional income is defined as half of social security
income plus "other" income,

    income_prov = income_ss/2 + income_other

Half of the provisional income above the first threshold (single = $25k,
married = $32k) is taxable,

    income_taxable = income_other +
                     max(0, 0.5(income_prov - threshold_1))

The `max()` constraint makes sure anything below the threshold is not subtracted
from `income_other`.  Likewise, adding in the second threshold (single = $34k,
married = $44k), 35% of income above that threshold is added to the 50% above the
first threshold (for a total of 85% above both thresholds),

    income_taxable = income_other +
                     max(0, 0.50(income_prov - threshold_1)) +
                     max(0, 0.35(income_prov - threshold_2))

But we also need to add in the constraint that no more than 85% of social security
is taxed.  This gives us a unified equation to calculate taxable income,

<div markdown="1" class="highlight">
    income_taxable = income_other +
                     min(0.85*income_ss,
                         max(0, 0.50(income_prov - threshold_1)) +
                         max(0, 0.35(income_prov - threshold_2)))
</div>

</div>

## Interactive Plot

This is all pretty abstract so let's plot what the tax brackets looks like
versus income levels for a married couple in 2017 with social security income of
<span class="ss-income">$50,000</span>.  Move the social income slider below
the graph to see how it affects the tax brackets.

<div id="puppy" markdown="1">
  *If you are seeing a puppy image below, then you are missing out on the
  amazingly excellent interactive content on the site.
  Click on the puppy to go to the website post in a browser
  to see what you are missing.*

  [![puppy](http://www.randomdoggiegenerator.com/randomdoggie.php)](.)
</div>

<div id="taxBracketWithSS" class="chart">
    <svg></svg>
</div>

Social Security Income (<span class="ss-income"/>):

<div id="ss-income-slider" class="slider" align="center">
</div>


<style>
  .chart {
    clear: both;
  }
  .chart, svg {
    height: 360px;
  }
  .slider {
    width: 90%;
  }
  .nvd3 path.nv-line {
    stroke-width: 2.5px;
  }
  .nv-series-1 .hover {
    display: none;
  }
</style>

<script>
  d3.select('#puppy').remove();

  var salaryInc = 1000;
  var maxSalary = 250000;
  var deduction = 23300;
  var ssIncome = 50000;
  var ss50 = 32000;
  var ss85 = 44000;
  var maxBenefit = Math.round(2687*12*2*1.32/1000)*1000;

  var taxLevels = [0, deduction, 18650+deduction, 75900+deduction,
    153100+deduction, 233350 + deduction, 416700+deduction, 470700 + deduction, maxSalary*2];
  var taxBrackets = [0, 0.1, 0.15, 0.25, 0.28, 0.33, 0.35, 0.396];
  var salaryTicks = [];

  function taxBracket(income) {
    var i = 1;
    while (income >= taxLevels[i]) {
      i++
    }
    return taxBrackets[i-1];
  }

  function totalIncomeFor(incomeTaxable, incomeSS) {
      var f1 = incomeTaxable + incomeSS;
      var f2 = (incomeTaxable + 1.25*incomeSS + 0.5*ss50) / 1.5;
      var f3 = (incomeTaxable + 1.425*incomeSS + 0.5*ss50 + 0.35*ss85) / 1.85;
      return Math.max(incomeTaxable+0.15*incomeSS, Math.min(f1, f2, f3))
  }

  function taxRate() {
    var marginalTax = [];
    var prevTaxable = 0;
    var prevSalary = 0;
    var taxIdx = 0;
    var maxTaxableSS = ssIncome * 0.85;

    var incomeTicks = Array.from({length: maxSalary/salaryInc}, (e, k) => (k+1)*salaryInc);
    var taxVertices = taxLevels.map(function(e) { return Math.ceil(totalIncomeFor(e, ssIncome)) });
    var ssCap50 = Math.floor((1.1*ssIncome + 0.5*ss50) / 0.5);
    var ssCap85 = Math.floor((1.275*ssIncome + 0.5*ss50 + 0.35*ss85) / 0.85);
    var ssVertices = [ssIncome, ss50 + ssIncome/2 + 1, ss85 + ssIncome/2 + 1, ssCap50, ssCap85, ssCap85+1];

    salaryTicks =
      incomeTicks.concat(taxVertices, taxVertices.map((e) => (e-1)),
                         ssVertices, ssVertices.map((e) => (e+1)))
        .sort((a,b)=>(a-b))
        .filter(function(el,i,a){return i==a.indexOf(el);});

    return salaryTicks.filter((e,i) => e >= ssIncome).map(function(salary) {
      var income = salary - ssIncome;
      var provisional = income + ssIncome * 0.5;
      var taxableSS =
        Math.max(0, (provisional - ss50) * 0.50) +
        Math.max(0, (provisional - ss85) * 0.35);
      var taxable = income + Math.min(maxTaxableSS, taxableSS);
      var percent = taxBracket(taxable) * (taxable - prevTaxable) / (salary - prevSalary);
      prevTaxable = taxable;
      prevSalary = salary;

      return [salary,percent];
    });
  }

  function updateData() {
    var marginalTaxXY = taxRate();
    var data = [
    {
      name: 'Other Income',
      xy: marginalTaxXY,
      color: '#20aa20'
    },
    {
      name: 'Social Security',
      xy: [[0,0], [ssIncome, 0]],
      color: '#aa2020',
      width: 5
    },
    {
      name: 'Tax Free',
      xy: [[ssIncome,1.0], [totalIncomeFor(deduction, ssIncome), 1.0]],
      color: '#ffeeaa',
      width: 5,
      area: true
    },
    ];
    d3.selectAll(".ss-income").text(d3.format("$,f")(ssIncome))
    return d3.select('#taxBracketWithSS svg').datum(chartifyData(data));
  }
  var marginalTaxData = updateData();

  function newChart(chartData, interactive) {

    var aChart = nv.models.lineChart()
                  .interactive(interactive)
                  .useInteractiveGuideline(interactive)
                  .showLegend(true)
                  .showYAxis(true)
                  .showXAxis(true);

    aChart.xAxis
        .axisLabel('Total Income ($)')
        .tickFormat(d3.format('$,f'))
        .showMaxMin(false);

    aChart.yAxis     //Chart y-axis settings
        .axisLabel('Marginal Tax Rate')
        .tickFormat(d3.format('.0%'))
        .showMaxMin(false);

    aChart.xDomain([0.00, maxSalary]);
    aChart.yDomain([-0.01, 0.50]);

    chartData.call(aChart);

    //Update the chart when window resizes.
    nv.utils.windowResize(function() {
      aChart.update();
    });

    aChart.interactiveLayer.tooltip.contentGenerator(function (d) {
      var income = d.value;
      var taxRate = d.series[0].value;

      return "Total Income: <b>" + d3.format("$,f")(income) + "</b><br/>" +
          "SS Income: <b>" + d3.format("$,f")(ssIncome) + "</b><br/>" +
          "Other Income: <b>" + d3.format("$,f")(income-ssIncome) + "</b><br/>" +
          "Marginal Tax Rate: <b>" + d3.format(".4p")(taxRate) + "</b><br/>";
    });

    return aChart;
  }

  function chartifyData(data) {
    //Line chart data should be sent as an array of series objects.
    return data.map(function(obj) {
      return {
        values: obj.xy.map(function(el) { return {x: el[0], y: el[1]} }),
        key: obj.name,
        color: obj.color,
        area: obj.area ? true : false,
        disabled: obj.disabled ? true : false
      }
    });
  }

  rothChart = newChart(marginalTaxData, true);
  nv.addGraph(rothChart);

  d3.select('#ss-income-slider').call(d3.slider().axis(d3.svg.axis().ticks(11)).min(0).max(maxBenefit).step(1000).value(ssIncome).on("slide", function(evt, ssi) {
    salaryInc = 100000;
    ssIncome = ssi;
    updateData().call(rothChart);
  }).on("slideend", function(evt, ssi) {
    salaryInc = 1000;
    ssIncome = ssi;
    updateData().call(rothChart);
  }));

</script>

## Observations

As you move the Social Security income slider, you may notice the following:

  * **Social Security = $0** - with no Social Security, your tax brackets are
  just the normal stair-step brackets that we are all used to hearing about.
  The larger your income, the more your marginal tax rate is.
  * **SS > $8,000** a "new" tax bracket of 27.75% appears and gets wider as your
  income increases.  This is due to the 15% tax bracket being increased by 85%
  as your provisional income goes above the 2nd threshold.
  * **SS ≈ $17,000** at approximately $17,000 the 10% tax bracket effectively
  disappears!  That is due to the fact that 10% bracket is increased by 50% to 15%
  because your provisional income is between the 1st and 2nd thresholds.
  * **SS ≈ $47,000** a crazy new 46.25% tax bracket appears and represents the
  25% tax bracket being increased by 85%.  
  * **SS ≈ $53,000** the 15% tax bracket becomes extinct if you are lucky enough
  to get this much Social Security income (for a married couple).  In other words,
  beyond the tax-free zone of deductions and exemptions, the first tax bracket
  you hit will actually be an 18.5% tax bracket (10% increased by 85%).
  * Increasing income reduces the size of the tax-free zone.  The tax-free zone
  represents the standard deduction and personal exemptions.  This is effectively
  decreased because it is absorbed in the taxable portion of the social security
  income.  So even though it's not technically decreased, mathematically the
  amount of untaxed income above and beyond Social Security decreases.

## Implications

The effects of Social Security taxation can significantly impact how you save
for retirement and affects the Roth vs Traditional account tradeoff.
That's why I decided to write this article before writing Part 2 of the
[Roth or Not to Roth](/to-roth-or-not-to-roth-part-1/) series.
The basic implication is that your future tax rate not be what you think it will
be (even without changes to the current tax code).
Given that your tax rate could very well be higher than you think, this could
push you to use a Roth account more often than you do currently.

There's not a single solution for all cases, but let's break it down a little
for different levels of Social Security income.

  * **SS = $17,000**, at this level you still have $23,300 of untaxed "other"
  income beyond
  SS so you would ideally like to defer income that fills that tax-free zone.  But above
  this, your first tax bracket is effectively 15%.  If your current tax bracket
  is 15%, you might want to consider saving to a Roth account at the point you think
  your Traditional accounts will generate $23,300 of income.
  * **SS = $47,000**, for this higher level you still have $18,367 of untaxed
  "other" income to play with.
  Beyond that tax rates increase pretty quickly into the 18.5% and
  27.75% brackets.  If you're in the 15% tax bracket now, you should consider
  using Roth accounts to the extent that your future other income sources are
  above $20,000.
  If you're in the 25% tax bracket you should consider using Roth accounts to
  the extent that your future other income sources are above $28,000.
  * **SS = $53,000**, as your SS benefit increases to this higher level,
  the amount of "other" income is tax-free down to about $17,000.
  Above that your lowest tax rate is above 18.5%, so if you are currently in
  the 15% bracket, the Roth option is best beyond the point where you have
  $17,000 of other income.  If you're currently in the 25% tax bracket,
  consider using Roth when your future income from taxable sources goes above $27,000.
  * If you retire early (before taking any SS), then your tax brackets won't
  be affected until you start taking SS.  So plan on using the existing unaltered
  tax brackets for your tax planning in the time before you start taking
  Social Security.

The general upshot of all of this is that, if you are not using
Roth accounts for retirement savings, you might want to take another look at that
decision in light of how your Social Security benefits affect your future tax rates.

### Related

 * [To Roth or Not to Roth? - Part 1, The Ideal World](/to-roth-or-not-to-roth-part-1/)
